!function(t,e){var n=function(t,e){"string"==typeof t||document===t.ownerDocument?(e||(e={}),e.content=t):e=t,this.options=_mergeObjects(e,n.defaults),_normalizeOptions(this.options),this.opened=!1,this.container=e.container,_addContainerStyles(this.container),this.overlay=this.mkOverlay(),this.drawer=this.mkDrawer(),this.trigger=this.mkTrigger(),this.body=_newElement("div","drawer-body",this.drawer),_appendContent(this.options.content,this.body),this.container.appendChild(this.overlay)};n.defaults={width:200,attachment:"left",content:null,container:null,mask:!0,"class":null,trigger:null,triggerOffset:20,triggerAttachment:"top",triggerContent:'<div class="drawer-sandwich"><i class="bar1"></i><i class="bar2"></i><i class="bar3"></i></div>'},n.prototype={open:function(){this.opened=!0,_addClass(this.overlay,"opened")},close:function(){this.opened=!1,_removeClass(this.overlay,"opened")},toggle:function(){this.opened?this.close():this.open()},onclick:function(t){t.target!==this.trigger&&t.target!==this.overlay||(this.toggle(),t.stopPropagation())},mkOverlay:function(){return overlay=_newElement("div","drawer-overlay"),this.options.mask&&(_appendClass(overlay,"drawer-mask"),overlay.onclick=this.onclick.bind(this)),this.options["class"]&&_appendClass(overlay,this.options["class"]),_appendClass(overlay,"drawer-"+this.options.attachment),document.body===this.options.container&&(overlay.style.position="fixed"),overlay},mkDrawer:function(){var t,e=_newElement("div","drawer",this.overlay);switch(this.options.attachment){case"left":t="width";break;case"right":t="width";break;case"top":t="height";break;case"bottom":t="height"}return e.style[t]=this.options.width+"px",e},mkTrigger:function(){if(this.options.trigger)var t=this.options.trigger;else{var t=_newElement("a","drawer-trigger",this.drawer);t.innerHTML=this.options.triggerContent,t.style[this.options.triggerAttachment]=this.options.triggerOffset+"px"}return t.onclick=this.onclick.bind(this),t}},_addClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");n.test(t.className)||(t.className=(t.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))},_removeClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")},_hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");return n.test(t.className)},_newElement=function(t,e,n){var i=document.createElement(t);return i.className=e,n&&n.appendChild(i),i},_appendClass=function(t,e){t.className?t.className+=" "+e:t.className=e},_mergeObjects=function(t,n){e===t&&(t={});for(var i in n)!n.hasOwnProperty*i||e===t[i]&&(t[i]=n[i]);return t},_addContainerStyles=function(t){var e=t.style.position;"fixed"!==e&&"relative"!==e&&"absolute"!==e&&(t.style.position="relative")},_appendContent=function(t,e){return"string"==typeof t?e.innerHTML=t:e.appendChild(t),e},_normalizeOptions=function(t){var e=t.attachment;"right"!==e&&"left"!==e&&"top"!==e&&"bottom"!==e&&(t.attachment="left");var n=t.triggerAttachment;"top"===e||"bottom"===e?"left"!==n&&"right"!==n&&(t.triggerAttachment="left"):"left"!==e&&"right"!==e||"top"!==n&&"bottom"!==n&&(t.triggerAttachment="top"),t.container||(t.container="string"==typeof t.content?document.body:t.content.parentNode)},mk=t.mk||{},mk.drawer=n}(window);